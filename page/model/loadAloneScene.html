<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>SoonSpace develop test</title>
  <link rel="stylesheet" href="../../asstes/css/base.css">
</head>

<body>
  <div id="view"></div>
  <script src="../../sdk/index.js"></script>
  <script>
    let oldModel
    const ssp = new SoonSpace({
      el: '#view',
      option: {

        backgroundColor: 0x333300

      },
      events: {

        selectPosition(position) {

          console.log('selectPosition', position)

        },

        modelClick(param) {

          console.log(param)

          // if (oldModel) ssp.unSelectModel(oldModel)

          oldModel = param.target

        }

      }

    })

    ssp.loadAloneScene(
      {
        id: 'firstJsonScene',
        url: '../../asstes/model/Json/fuzhouSubway0102.json',
        position: {
          x: 0,
          y: 100,
          z: 0
        }
      }
    )

      .then(obj => {
        window.obj = obj
        console.log(obj)

      })


    const pos = [
      { x: 11195.698568058531, y: 6515.70339809375, z: 2277.063623354466 },
      { x: 15134.794709604668, y: 6515.7033980937495, z: 2262.449139573442 },
      { x: 17139.493731019942, y: 6515.70339809375, z: 2219.0092649160174 },
      { x: 17199.28890372923, y: 6515.703376879862, z: 866.4001497002218 },
      { x: 16350.77474250646, y: 6515.703372443148, z: 887.8830102436284 },
      { x: 15086.041914051995, y: 7314.8318757794, z: 934.7868942088996 },
      { x: 14807.868802296263, y: 7514.5443247832145, z: 939.8966416100286 },
      { x: 13542.49884685242, y: 7796.652328859375, z: 937.5738138739229 },
      { x: 11678.574623323233, y: 7797.775743656677, z: 1004.447118730478 },
      { x: 11657.287903041582, y: 7797.775743656677, z: 2631.134918701438 },
      { x: 17501.319279611493, y: 7797.775743656677, z: 2614.0525849940773 },
      { x: 19348.87086300062, y: 8790.623437410322, z: 2640.649969014642 },
      { x: 19633.1704724323, y: 8890.329553377493, z: 2637.5548512988844 },
      { x: 20777.14954503581, y: 9272.43856339491, z: 2618.168969253771 },
      { x: 21370.891624578253, y: 9272.432424859375, z: 2594.2625377219156 },
      { x: 26096.819217646407, y: 9279.23340876294, z: 2471.1149365432516 },
      { x: 26108.93453855245, y: 9279.23340876294, z: 842.6029125573082 },
      { x: 26137.560243312037, y: 9279.23340876294, z: -628.0542283235959 },
      { x: 22404.462915641743, y: 9279.23340876294, z: -618.1371571866357 },
      { x: 18405.07268974493, y: 9279.23340876294, z: -650.5509724494511 },
      { x: 7644.589003468784, y: 9279.565503656677, z: - 1002.6704191755501 },
      { x: 7591.388334852298, y: 9279.539201134985, z: 2810.5352224232192 },
      { x: 7496.778333761973, y: 9379.137137069607, z: 5306.44111188297 },
      { x: 8065.565816546594, y: 9379.249216933811, z: 5921.223662960863 },
      { x: 10912.68661595886, y: 9379.261564791017, z: 7478.407013879127 },
      { x: 11803.302365642667, y: 9379.261564791017, z: 11189.2883978774 }
    ]

    const t = ssp.loadTopology(pos)

    console.log(t)





  </script>
</body>

</html>